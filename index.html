<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
  	<title>Dan Grocery List</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<link rel="style sheet" type="text/css" href="GroceryStyles.css">
		<script src="https://unpkg.com/react@15/dist/react.js"></script>
		<script src="https://unpkg.com/react-dom@15/dist/react-dom.js"></script>
		<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
	</head>

	<body style="background-color: lightgrey">
		<div  class="container-fluid">
			<div class="row">
				<div class="col-md-2" style="background-color: blue"></div>
				<div class="col-md-8"><h2><u>Grocery List</u></h2><br>
					<div id="content"></div>
				</div>
				<div class="col-md-2" style="background-color: red"></div>
			</div>
		</div>
    
		<script type="text/babel">
      var ProductItem = React.createClass({
        render: function() {
          return(
            <h4>Product: <span className="commentText">{this.props.children}</span></h4>
          );
        }
      });
      
      var ProductSKU = React.createClass({
        render: function() {
          return(
            <h4>SKU: <span className="commentText">{this.props.children}</span></h4>
          );
        }
      });
      
      var ProductPrice = React.createClass({
        render: function() {
          return(
            <h4>Price: <span className="commentText">{this.props.children}</span></h4>
          );
        }
      });
      
      var GroceryItem = React.createClass ({
        getInitialState: function() {
          return {editing: false}
        },
        edit: function () {
          this.setState({editing: true});
        },
        save: function () {
          var productName = this.refs.productInput.value;
          var skuNumber = this.refs.skuInput.value;
          var productPrice = this.refs.priceInput.value;
          console.log("input info: " + productName + " " + skuNumber + " " + productPrice);
          this.setState({editing: false});
        },
        remove: function () {
          alert("remove button pressed");
        },
        renderNormal: function() {
          return(
            <div className="listItem">
              <ProductItem />
              <ProductSKU />
              <ProductPrice />  
              <button onClick={this.edit} className="button-edit">Edit</button>
              <button onClick={this.remove} className="button-remove">Remove</button>
            </div>  
         );
        },
        renderEdit: function() {
          return (
            <div className="listItem">
              <input type="text" placeholder="Product" maxlength="100" ref="productInput"></input><br></br>
              <input type="number" placeholder="SKU" maxlength="25" ref="skuInput"></input><br></br>
              <input type="number" placeholder="Price in dollars" maxlength="20" ref="priceInput"></input>
              <button onClick={this.save} className="button-save">Save</button>
            </div>
          );
        },
        render: function() {
          if(this.state.editing) {
            return this.renderEdit();
            } else {
              return this.renderNormal();
            }
          }   
      });

      ReactDOM.render(<GroceryItem />, document.getElementById("content"));
                   
    </script>
	</body>
</html>
